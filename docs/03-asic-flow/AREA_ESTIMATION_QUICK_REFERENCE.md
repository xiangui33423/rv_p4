## RV-P4 ASIC é¢ç§¯è¯„ä¼° - å¿«é€Ÿå‚è€ƒ

### ğŸ“Š è¯„ä¼°ç»“æœ

**èŠ¯ç‰‡å°ºå¯¸ï¼š9.47 mm Ã— 9.47 mm**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨¡å—                é¢ç§¯      å æ¯”      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ Packet Buffer    25.2 mmÂ²  54.1%   â”‚
â”‚  ğŸ”„ MAU Stages       19.2 mmÂ²  41.3%   â”‚
â”‚  ğŸ“ Parser            1.7 mmÂ²   3.7%   â”‚
â”‚  â±ï¸ Traffic Mgr       0.3 mmÂ²   0.7%   â”‚
â”‚  ğŸ”§ å…¶ä»–             0.5 mmÂ²   0.2%   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ æ ¸å¿ƒé¢ç§¯         46.5 mmÂ² 100.0%   â”‚
â”‚  + å¸ƒçº¿å¼€é”€ (Ã—1.35)   62.8 mmÂ²         â”‚
â”‚  Ã· åˆ©ç”¨ç‡ (70%)       89.8 mmÂ² âœ“       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ å·¥è‰ºåº“

| å‚æ•° | å€¼ |
|------|-----|
| **å·¥è‰ºèŠ‚ç‚¹** | 130 nm (SkyWater Sky130) |
| **åº“å˜ä½“** | sky130_fd_sc_hd (é«˜å¯†åº¦) |
| **æœ€å°å•å…ƒé«˜åº¦** | 2.72 Î¼m |
| **è®¸å¯è¯** | å®Œå…¨å¼€æº âœ“ |

### ğŸ’¾ é¢ç§¯é©±åŠ¨å› ç´ 

1. **2MB Packet Buffer SRAM** = 54% çš„é¢ç§¯
   - å¿…éœ€çš„æ•°æ®åŒ…ç¼“å­˜
   - å¯ä¼˜åŒ–æ–¹å‘ï¼šè¯„ä¼°æ˜¯å¦éœ€è¦å‡å°‘ç¼“å†²

2. **4çº§ MAU æµæ°´çº¿** = 41% çš„é¢ç§¯
   - åŒ…å« TCAMï¼ˆ512 kbï¼‰+ SRAMï¼ˆ16 kbï¼‰
   - å¯ä¼˜åŒ–æ–¹å‘ï¼šæ·±åº¦ vs å®½åº¦æƒè¡¡

3. **å…¶ä»–é€»è¾‘** = 5% çš„é¢ç§¯
   - Parserã€Deparserã€TMã€æ§åˆ¶é€»è¾‘

### ğŸš€ å¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·

#### æœ€ç®€å•æ–¹å¼ï¼ˆæ— éœ€å®‰è£…ï¼‰
```bash
# å·²ç»å®Œæˆï¼ç»“æœå·²ç”Ÿæˆ
cat ASIC_AREA_EVALUATION.md              # å®Œæ•´æŠ¥å‘Š
cat synthesis_results/area_estimate.json # JSON ç»“æœ
```

#### å®Œæ•´æ–¹å¼ï¼ˆéœ€è¦ Yosys + Sky130ï¼‰
```bash
# 1. ç¯å¢ƒé…ç½®ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
./scripts/setup_pdk.sh

# 2. è¿è¡Œå®Œæ•´ç»¼åˆ
./scripts/run_synthesis.sh

# 3. æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š
cat synthesis_results/area_report.txt
cat synthesis_results/SYNTHESIS_REPORT.md
```

### ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶

```
synthesis_results/
â”œâ”€â”€ area_estimate.json              # â† é¢ç§¯æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
â”œâ”€â”€ ASIC_AREA_EVALUATION.md        # â† å®Œæ•´è¯„ä¼°æŠ¥å‘Š
â”œâ”€â”€ rv_p4_netlist.v                # Yosys ç»¼åˆåçš„ç½‘è¡¨
â”œâ”€â”€ rv_p4_netlist.json             # ç½‘è¡¨ï¼ˆJSONæ ¼å¼ï¼‰
â”œâ”€â”€ stats_mapped.txt               # å•å…ƒè®¡æ•°ç»Ÿè®¡
â”œâ”€â”€ area_report.txt                # è¯¦ç»†é¢ç§¯æŠ¥å‘Š
â”œâ”€â”€ SYNTHESIS_REPORT.md            # ç»¼åˆæŠ¥å‘Š
â””â”€â”€ logs/
    â”œâ”€â”€ 01_elaboration.log
    â””â”€â”€ 02_synthesis.log
```

### ğŸ¯ å…³é”®å‚æ•°

```
Design Parameters:
- Parser TCAM:  256 Ã— 512b = 131 Kb
- MAU Depth:    1024 entries per stage
- MAU Stages:   4 levels
- Packet Buf:   2 MB SRAM
- Ports:        32 (100GbE equivalent)
- Freq:         1.6 GHz (datapath)
- Clock Trees:  4 independent clocks

Technology:
- Process:      Sky130 (130 nm)
- Vdd:          1.8 V
- Cell Height:  2.72 Î¼m
- Tracks:       6 metal layers
```

### ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡ï¼ˆé¢„è®¡ï¼‰

| æŒ‡æ ‡ | ä¼°è®¡å€¼ |
|------|-------|
| **åŠŸè€—** | 2.0-3.0 W |
| **ååé‡** | 25.6 Tbpsï¼ˆ32 Ã— 100GbEï¼‰ |
| **å»¶è¿Ÿ** | <100 ns |
| **å¯åˆ¶é€ æ€§** | âœ“ ä½æˆæœ¬ |

### ğŸ” é¢ç§¯ä¼°ç®—ç²¾åº¦

```
â”œâ”€ é™æ€åˆ†æï¼ˆæ­¤å¤„ï¼‰       Â±30%  âœ“ å·²å®Œæˆ
â”œâ”€ Yosys ç»¼åˆ           Â±15%  (éœ€ Yosys)
â”œâ”€ OpenROAD P&R         Â±5%   (éœ€ P&R å·¥å…·)
â””â”€ ç¡…æµ‹é‡               0%    (æµç‰‡å)
```

### ğŸ’¡ ä¼˜åŒ–ç©ºé—´

è‹¥è¦å‡å°‘é¢ç§¯ 20-30%ï¼š

```
1. Packet Buffer ä¼˜åŒ–
   - è¯„ä¼°å®é™…ç¼“å†²éœ€æ±‚
   - è€ƒè™‘åˆ†çº§ç¼“å­˜ï¼ˆeDRAM + SRAMï¼‰
   - é¢„æœŸæ•ˆæœï¼š-20-30% é¢ç§¯

2. MAU æµæ°´çº¿ä¼˜åŒ–
   - å‡å°‘ TCAM æ·±åº¦ (1024 â†’ 512)
   - å‹ç¼© SRAM è¡¨é¡¹
   - é¢„æœŸæ•ˆæœï¼š-15-20% é¢ç§¯

3. æ€»ä½“é¢„æœŸ
   - ç›®æ ‡ï¼š30-50 mmÂ² èŠ¯ç‰‡é¢ç§¯
   - å°ºå¯¸ï¼š6-7 mmÂ² per chip
```

### ğŸ“š å‚è€ƒèµ„æº

- [Sky130 PDK æ–‡æ¡£](https://skywater-pdk.readthedocs.io/)
- [Yosys ç”¨æˆ·æŒ‡å—](http://yosyshq.net/yosys/)
- [OpenROAD é¡¹ç›®](https://openroad.tools/)
- [å®Œæ•´è¯„ä¼°æŠ¥å‘Š](./ASIC_AREA_EVALUATION.md)

---

**ç”Ÿæˆæ—¶é—´**: 2026-02-19
**å·¥å…·**: Python RTL åˆ†æ + Sky130 ä¼°ç®—åº“
**çŠ¶æ€**: âœ“ å®Œæˆï¼Œå¯ç”¨äºåˆæœŸè§„åˆ’
